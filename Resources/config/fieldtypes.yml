parameters:
    novactive.novaseobundle.field_type.novaseometas.class: Novactive\Bundle\eZSEOBundle\Core\FieldType\Metas\Type
    novactive.novaseobundle.field_type.novaseometas.externalStorage.class: Novactive\Bundle\eZSEOBundle\Core\FieldType\Metas\MetasStorage
    novactive.novaseobundle.field_type.novaseometas.storage_gateway.class: Novactive\Bundle\eZSEOBundle\Core\FieldType\Metas\MetasStorage\Gateway\LegacyStorage
    novactive.novaseobundle.field_type.novaseometas.converter.class: Novactive\Bundle\eZSEOBundle\Core\FieldType\Metas\Converter
    novactive.novaseobundle.field_type.novaseometas.form_mapper.class: Novactive\Bundle\eZSEOBundle\Core\FieldType\Metas\FormMapper

services:
    Novactive\Bundle\eZSEOBundle\Core\FieldType\Metas\Type:
        parent: ezpublish.fieldType
        tags:
            - {name: ezpublish.fieldType, alias: novaseometas}

    # Marking fieldtype as unindexable for ez platform solr bundle to stop errors
    novactive.novaseobundle.field_type.novaseometas.indexable.unindexed:
        class: "%ezpublish.fieldType.indexable.unindexed.class%"
        tags:
            - {name: ezpublish.fieldType.indexable, alias: novaseometas}

    Novactive\Bundle\eZSEOBundle\Core\FieldType\Metas\MetasStorage:
        tags:
            - {name: ezpublish.fieldType.externalStorageHandler, alias: novaseometas}

    Novactive\Bundle\eZSEOBundle\Core\FieldType\Metas\MetasStorage\Gateway\LegacyStorage:
        tags:
            - {name: ezpublish.fieldType.externalStorageHandler.gateway, alias: novaseometas, identifier: LegacyStorage}

    Novactive\Bundle\eZSEOBundle\Core\FieldType\Metas\Converter:
        tags:
            - {name: ezpublish.storageEngine.legacy.converter, alias: novaseometas, lazy: true, callback: '::create'}

    Novactive\Bundle\eZSEOBundle\Core\FieldType\Metas\FormMapper:
        tags:
            - { name: ez.fieldFormMapper.definition, fieldType: novaseometas }
            - { name: ez.fieldFormMapper.value, fieldType: novaseometas }
        arguments:
            - "@ezpublish.config.resolver"
