parameters:
    novactive.novaseobundle.legacy.configuration.class: Novactive\Bundle\eZSEOBundle\Core\LegacyConfiguration
    novactive.novaseobundle.meta_name_schema.class: Novactive\Bundle\eZSEOBundle\Core\MetaNameSchema
    novactive.novaseobundle.twig_extension.class: Novactive\Bundle\eZSEOBundle\Twig\NovaeZSEOExtension
    novactive.novaseobundle.installer.field.class: Novactive\Bundle\eZSEOBundle\Installer\Field
    novactive.novaseobundle.addfieldtype.class: Novactive\Bundle\eZSEOBundle\Command\AddNovaSEOMetasFieldTypeCommand
    novactive.novaseobundle.xrowconverter.class: Novactive\Bundle\eZSEOBundle\Command\ConvertXRow2NovaCommand
    novactive.novaseobundle.admin_user_id: 14

services:
    novactive.novaseobundle.legacy.configuration:
        class: %novactive.novaseobundle.legacy.configuration.class%
        arguments:
            - @ezpublish.config.resolver.core
        tags:
            - { name: kernel.event_subscriber }

    novactive.novaseobundle.twig_extension:
        class: %novactive.novaseobundle.twig_extension.class%
        arguments: [@ezpublish.api.repository, @novactive.novaseobundle.meta_name_schema,@ezpublish.config.resolver, @ezpublish.locale.converter]
        public: false
        tags:
            - { name: twig.extension }

    novactive.novaseobundle.meta_name_schema:
        class: %novactive.novaseobundle.meta_name_schema.class%
        arguments: [@ezpublish.api.repository]
        calls:
            - [setLanguages, ["$languages$"]]
            - [setHtml5Converter, ["@ezpublish.fieldtype.ezxmltext.converter.html5"]]
            - [setImageVariationService, ["@ezpublish.fieldtype.ezimage.variation_service", @ezpublish.fieldtype.ezimage]]

    novactive.novaseobundle.installer.field:
        class: %novactive.novaseobundle.installer.field.class%
        arguments:
            - @ezpublish.api.service.content_type

    novactive.novaseobundle.addfieldtype:
        class: %novactive.novaseobundle.addfieldtype.class%
        arguments:
            - @ezpublish.config.resolver
            - @ezpublish.api.repository
            - @ezpublish.api.service.user
            - @ezpublish.api.service.content_type
            - @novactive.novaseobundle.installer.field
            - %novactive.novaseobundle.admin_user_id%
        tags:
            - { name: console.command }

    novactive.novaseobundle.xrowconverter:
        class: %novactive.novaseobundle.xrowconverter.class%
        arguments:
            - @ezpublish.config.resolver
            - @ezpublish.api.repository
            - @ezpublish.api.service.user
            - @ezpublish.api.service.content_type
            - @ezpublish.api.service.search
            - @ezpublish.api.service.content
            - @novactive.novaseobundle.installer.field
            - %novactive.novaseobundle.admin_user_id%
        tags:
            - { name: console.command }
