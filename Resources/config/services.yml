parameters:
    novactive.novaseobundle.admin_user_id: 14
    novactive.novaseobundle.meta_field_name: Metas
    novactive.novaseobundle.meta_field_description: Metas for Search Engine Optimizations
    novactive.novaseobundle.meta_field_group: novaseo

services:
    Novactive\Bundle\eZSEOBundle\Twig\NovaeZSEOExtension:
        arguments:
            - "@ezpublish.api.repository"
            - '@Novactive\Bundle\eZSEOBundle\Core\MetaNameSchema'
            - "@ezpublish.config.resolver"
            - "@ezpublish.locale.converter"
        public: false
        tags:
            - { name: twig.extension }

    Novactive\Bundle\eZSEOBundle\Core\MetaNameSchema:
        arguments:
            - "@ezpublish.spi.persistence.content_type_handler"
            - "@ezpublish.field_type_collection.factory"
            - "@ezpublish.spi.persistence.cache.contentLanguageHandler"
            - "@ezpublish.api.repository"
            - "@ezpublish.translation_helper"
            - "@ezpublish.fieldType.ezobjectrelationlist.nameable_field"
            - []
        calls:
            - [setLanguages, ["$languages$"]]
            - [setRichTextConverter, ["@ezpublish.fieldType.ezrichtext.converter.output.xhtml5"]]
            - [setImageVariationService, ["@ezpublish.fieldType.ezimage.variation_service", "@ezpublish.fieldType.ezimage"]]

    Novactive\Bundle\eZSEOBundle\Installer\Field:
        arguments:
            - "@ezpublish.api.service.content_type"
            - "%novactive.novaseobundle.meta_field_name%"
            - "%novactive.novaseobundle.meta_field_description%"
            - "%novactive.novaseobundle.meta_field_group%"

    Novactive\Bundle\eZSEOBundle\Command\AddNovaSEOMetasFieldTypeCommand:
        arguments:
            - "@ezpublish.config.resolver"
            - "@ezpublish.api.repository"
            - "@ezpublish.api.service.user"
            - '@Novactive\Bundle\eZSEOBundle\Installer\Field'
            - '@Novactive\Bundle\eZSEOBundle\Converter\ContentTypesHelper'
            - "%novactive.novaseobundle.admin_user_id%"
        tags:
            - { name: console.command }

    Novactive\Bundle\eZSEOBundle\Converter\ContentTypesHelper:
        arguments:
            - "@ezpublish.api.service.content_type"
